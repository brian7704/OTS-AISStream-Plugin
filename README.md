# OTS-AISStream-Plugin

![oil tanker](https://github.com/brian7704/OTS-AISStream-Plugin/blob/main/oil_tanker.jpg?raw=true)

## About

This [OpenTAKServer](https://github.com/brian7704/OpenTAKServer) plugin streams free AIS data from [aisstream.io](https://aisstream.io) via websocket. Currently only `PositionReport` messages are supported.

## Installation

```shell
  ~/.opentakserver_venv/bin/pip install git+https://github.com/brian7704/OTS-AISStream-Plugin.git
```

## Configuration

You'll first need to sign up for a free account at [aisstream.io](https://aisstream.io) and get a free API
key from [here](https://aisstream.io/apikeys).

Copy the API key and edit `~/ots/config.yml`. Add `OTS_AISSTREAM_PLUGIN_API_KEY: paste_your_api_key_here`

You can also set the following optional settings:

* OTS_AISSTREAM_PLUGIN_BBOX - A list of polygons to get data from. See [AISStream's documentation](https://aisstream.io/documentation) for details
  * Default: `[[[25.835302, -80.207729], [25.602700, -79.879297]], [[33.772292, -118.356139], [33.673490, -118.095731]]]` 
* OTS_AISSTREAM_PLUGIN_COT_TYPE - The type attribute for CoT messages generated by this plugin. Default `a-u-S-X-M`
* OTS_AISSTREAM_PLUGIN_COT_STALE_TIME - Stale interval for CoT messages generated by this plugin, in seconds. Default: `3600`